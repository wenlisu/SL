<section class="qqm-info-default">
  <div class="qqm-info-box">
    <form class="layui-form" action="">
      <div class="layui-form-item">
        <label class="layui-form-label">账户名称</label>
        <div class="layui-input-block qqm-input-required">
          <input type="text" name="user" lay-verify="required" autocomplete="off" placeholder="" class="layui-input">
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-block qqm-input-required">
          <input type="text" name="name" lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
          <input type="radio" name="sex" value="男" title="男" checked="">
          <input type="radio" name="sex" value="女" title="女">
        </div>
      </div>
      <br>

      <div class="layui-form-item">
        <label class="layui-form-label">手机</label>
        <div class="layui-input-block qqm-input-required">
          <input type="text" name="phone" lay-verify="required" placeholder="" autocomplete="off" class="layui-input">
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">邮箱</label>
        <div class="layui-input-block">
          <input type="text" name="email" placeholder="" autocomplete="off" class="layui-input">
        </div>
      </div>
      <br>

      <div class="layui-form-item">
        <label class="layui-form-label">所属角色</label>
        <div class="layui-input-block qqm-input-required">
          <select name="role">
            <option value="">选择角色</option>
            <option value="0">角色A</option>
            <option value="1">角色B</option>
          </select>
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">所属部门</label>
        <div class="layui-input-block qqm-input-required">
          <input type="text" name="department" lay-verify="required" placeholder="" autocomplete="off"
                 class="layui-input">
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">职务</label>
        <div class="layui-input-block">
          <input type="text" name="duties" placeholder="" autocomplete="off" class="layui-input">
        </div>
      </div>
      <br>

      <div class="layui-form-item">
        <label class="layui-form-label">密码</label>
        <div class="layui-input-block qqm-input-required">
          <input type="password" name="password" lay-verify="required" autocomplete="off" placeholder=""
                 class="layui-input">
        </div>
      </div>
      <div class="layui-form-item">
        <label class="layui-form-label">确认密码</label>
        <div class="layui-input-block qqm-input-required">
          <input type="password" name="confirmPassword" lay-verify="required" placeholder="" autocomplete="off"
                 class="layui-input">
        </div>
      </div>
      <br>

      <div class="layui-form-item form-btn-box">
        <div class="layui-input-block">
          <button type="button" class="layui-btn layui-btn-primary btn-simple-blue add-hide">取消</button>
          <button type="reset" class="layui-btn layui-btn-primary btn-simple-blue update-hide">重置</button>
          <button class="layui-btn qqm-btn-theme" lay-submit="" lay-filter="info">提交</button>
        </div>
      </div>
    </form>
  </div>
</section>

<script>
  layui.use(['_route', 'form'], function () {
    var _route = layui._route
      , form = layui.form()
      , curPosition = ''
      , boxEle = $('.qqm-info-box');

    // 状态判断
    switch (_route.params.type) {
      case 'add':
        curPosition = '新增';
        boxEle.addClass('type-add');
        break;
      case 'update':
        curPosition = '修改';
        boxEle.addClass('type-update');
        break;
      case 'info':
        curPosition = '查看';
        boxEle.addClass('type-info').find('input,select').attr('disabled', 'disabled');
        break;
    }

    // 渲染表单
    form.render();

    // 初始化当前位置
    _route.setBreadcrumb(['后台用户管理', {url: 'qqm.user', name: '后台用户'}, curPosition]);

    // 自定义验证规则
    form.verify({
      /*title: function (value) {
       if (value.length < 5) {
       return '标题至少得5个字符啊';
       }
       }
       , pass: [/(.+){6,12}$/, '密码必须6到12位']
       , content: function (value) {
       layedit.sync(editIndex);
       }*/
    });


    //监听提交
    form.on('submit(info)', function (data) {
      layer.alert(JSON.stringify(data.field), {
        title: '最终的提交信息'
      });
      return false;
    });


  });
</script>